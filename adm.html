<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dhumketu Master Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Hind Siliguri', sans-serif; background: #f8fafc; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .custom-scrollbar::-webkit-scrollbar { width: 5px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
        .hidden { display: none !important; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .animate-spin { animation: spin 1s linear infinite; }
    </style>
</head>
<body>

    <div class="flex flex-col md:flex-row min-h-screen">
        <div class="w-full md:w-64 bg-indigo-900 text-white p-6 shadow-2xl">
            <h1 class="text-2xl font-black mb-10 text-yellow-400 tracking-tighter italic">DHUMKETU 2.0</h1>
            <nav class="space-y-2">
                <button onclick="showTab('upload-tab')" class="w-full text-left p-4 rounded-2xl hover:bg-white/10 transition flex items-center gap-3"><span>ğŸ“¤</span> Upload</button>
                <button onclick="showTab('manage-tab')" class="w-full text-left p-4 rounded-2xl hover:bg-white/10 transition flex items-center gap-3"><span>ğŸ—‘ï¸</span> Manage</button>
                <button onclick="showTab('notice-tab')" class="w-full text-left p-4 rounded-2xl hover:bg-white/10 transition flex items-center gap-3"><span>ğŸ“¢</span> Notice</button>
                <button onclick="showTab('teacher-tab')" class="w-full text-left p-4 rounded-2xl hover:bg-white/10 transition flex items-center gap-3"><span>ğŸ‘¨â€ğŸ«</span> Profile</button>
                <button onclick="showTab('gemini-tab')" class="w-full text-left p-4 rounded-2xl bg-blue-600 font-bold mt-10 shadow-lg hover:bg-blue-700 transition">âœ¨ Gemini Helper</button>
            </nav>
        </div>

        <div class="flex-1 p-6 md:p-10">
            
            <div id="upload-tab" class="tab-content active">
                <h2 id="form-title" class="text-3xl font-black mb-8 text-slate-800">Publish Content</h2>
                <div class="bg-white p-8 rounded-[40px] shadow-sm border border-slate-200">
                    <form id="mainUploadForm" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-xs font-bold uppercase text-slate-400 mb-2">Target Path (Folders)</label>
                                <input type="text" id="dbPath" placeholder="contents/physics" class="w-full p-4 bg-slate-50 rounded-2xl border-none ring-1 ring-slate-200 focus:ring-2 focus:ring-indigo-500 transition">
                            </div>
                            <div>
                                <label class="block text-xs font-bold uppercase text-slate-400 mb-2">Content Type</label>
                                <select id="contentType" onchange="toggleFormFields()" class="w-full p-4 bg-slate-50 rounded-2xl border-none ring-1 ring-slate-200">
                                    <option value="post">ğŸ“ Article / Post</option>
                                    <option value="mcq">â“ Single MCQ Set</option>
                                    <option value="mcq_set">ğŸ“š Bulk JSON Paste</option>
                                    <option value="video">ğŸ¥ Video URL</option>
                                    <option value="pdf">ğŸ“„ PDF Link</option>
                                </select>
                            </div>
                        </div>

                        <input type="text" id="postTitle" placeholder="Content Title" class="w-full p-4 bg-slate-50 rounded-2xl border-none ring-1 ring-slate-200" required>
                        
                        <div>
                            <label class="block text-xs font-bold uppercase text-slate-400 mb-2">Featured Image (Optional)</label>
                            <input type="file" id="imageInput" accept="image/*" class="text-xs text-slate-400 w-full file:bg-indigo-50 file:border-none file:px-4 file:py-2 file:rounded-full file:text-indigo-600 font-bold">
                        </div>

                        <div id="textField" class="space-y-4">
                            <textarea id="postBody" placeholder="Write text content here..." class="w-full p-4 bg-slate-50 rounded-3xl border-none ring-1 ring-slate-200 h-40"></textarea>
                            <textarea id="postJson" placeholder="Optional: Code block here..." class="w-full p-4 bg-slate-900 text-green-400 font-mono rounded-3xl h-32"></textarea>
                        </div>

                        <div id="urlField" style="display: none;">
                            <input type="text" id="contentUrl" placeholder="Enter URL (YouTube or PDF link)" class="w-full p-4 bg-slate-50 rounded-2xl border-none ring-1 ring-slate-200">
                        </div>

                        <div id="mcqField" style="display: none;" class="bg-indigo-50/50 p-6 rounded-[40px] border-2 border-dashed border-indigo-200">
                            <div class="bg-white p-6 rounded-3xl shadow-sm space-y-4">
                                <textarea id="mcqQuestion" placeholder="Question Text" class="w-full p-4 bg-slate-50 rounded-2xl h-20 border-none"></textarea>
                                <div class="grid grid-cols-2 gap-3">
                                    <input type="text" id="optA" placeholder="Option A" class="p-3 bg-slate-50 rounded-xl border-none">
                                    <input type="text" id="optB" placeholder="Option B" class="p-3 bg-slate-50 rounded-xl border-none">
                                    <input type="text" id="optC" placeholder="Option C" class="p-3 bg-slate-50 rounded-xl border-none">
                                    <input type="text" id="optD" placeholder="Option D" class="p-3 bg-slate-50 rounded-xl border-none">
                                </div>
                                <select id="correctAns" class="w-full p-3 bg-slate-50 rounded-xl border-none">
                                    <option value="">Correct Answer</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                </select>
                                <button type="button" onclick="addToSet()" class="w-full bg-indigo-600 text-white py-3 rounded-xl font-bold">Add to Set</button>
                            </div>
                            <div id="mcqQueueDisplay" class="mt-4 space-y-2 max-h-40 overflow-y-auto"></div>
                        </div>

                        <button type="submit" id="submitBtn" class="w-full bg-indigo-600 text-white font-black py-5 rounded-[2rem] hover:bg-indigo-700 shadow-xl transition active:scale-95">PUBLISH NOW</button>
                        <button type="button" id="cancelEditBtn" onclick="resetForm()" class="hidden w-full bg-slate-200 text-slate-700 font-bold py-3 rounded-2xl mt-2">CANCEL EDIT</button>
                    </form>
                </div>
            </div>

            <div id="manage-tab" class="tab-content">
                <h2 class="text-3xl font-black mb-8 text-slate-800">Manage Content</h2>
                <div class="bg-white p-8 rounded-[40px] shadow-sm border border-slate-200">
                    <div id="manage-list" class="space-y-4 max-h-[70vh] overflow-y-auto custom-scrollbar pr-4">
                        </div>
                </div>
            </div>

            <div id="notice-tab" class="tab-content">
                <h2 class="text-2xl font-black mb-6 text-slate-800">Notice Management</h2>
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                    <textarea id="noticeText" class="w-full p-3 bg-slate-50 rounded-xl h-24 border-none ring-1 ring-slate-200 mb-4" placeholder="à¦¨à¦¤à§à¦¨ à¦¨à§‹à¦Ÿà¦¿à¦¶ à¦²à¦¿à¦–à§à¦¨..."></textarea>
                    <button onclick="updateNotice()" class="w-full bg-yellow-500 text-white py-3 rounded-xl font-bold">PUBLISH NOTICE</button>
                    <div id="notice-history" class="mt-6 space-y-2"></div>
                </div>
            </div>

            <div id="teacher-tab" class="tab-content">...</div>
            <div id="gemini-tab" class="tab-content">...</div>

        </div>
    </div>
    
    <script src="adm2.js"></script>
</body>
</html>
